(* let hybrid f (c) = o where  *)
(*    rec present c -> *)
(*      let a = 2 in  *)
(*      let b = a + 1 in *)
(*      do emit o = b done *)

(* let hybrid f (c) = o where 
   rec present c ->
     let a = 2 in 
     let b = a + 1 in
     do emit o = b done

let atomic hybrid main () = () where
    rec c = period (10.0)
    and o = f (c)
    and present o(v) -> do _ = print_endline (string_of_int v) done *)

let atomic hybrid main2 () = () where
   rec c = period (10.0)
   and present c -> 
        let a = 2 in 
        let b = a + 1 in
	do _ = print_endline (string_of_int b) done

