let hybrid int(z, x0) =
  let der x = x0  init x0 reset z -> x0 in x

let hybrid combine(f)(g)(z) = (x,y) where
  rec init x = 0.0
  and init y = 0.0
  and y = run f(z, last x) and x = run g(z, last y)

let hybrid main(z) = combine(int)(int)(z)
 let hybrid int(z, x0) =
  let der x = x0  init x0 reset z -> x0 in x

let hybrid combine(f)(g)(z) = (x,y) where
  rec init x = 0.0
  and init y = 0.0
  and y = run f(z, last x) and x = run g(z, last y)

let hybrid main(z) = combine(int)(int)(z)
 let hybrid int(z, x0) =
  let der x = x0  init x0 reset z -> x0 in x

let hybrid combine(f)(g)(z) = (x,y) where
  rec init x = 0.0
  and init y = 0.0
  and y = run f(z, last x) and x = run g(z, last y)

let hybrid main(z) = combine(int)(int)(z)
 
