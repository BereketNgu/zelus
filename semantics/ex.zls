(* let node g(x) returns (y,m)
    local z, k, r
    do y = 0 fby z + 1 and z = k+1
    and k = 0 fby r + 1 and r = y+1 and m = z done *)

(* let node f(x) returns (y, b, r)
  local m init 0
  do m = last m + 1 and y = 42 -> pre m
  and b = true fby (not b)
  and r = if b then 1 else 2 done *)

let node f(x) returns (o init 42)
  automaton
  | One -> do o = last o + 1 until o = 2 then Two
  | Two -> do o = last o - 1 until o = -2 then One
  end

 
